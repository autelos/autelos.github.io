<!DOCTYPE html>
<html lang="en">
<head>
          <title>archive-meta - masi</title>
        <meta charset="utf-8" />
        <meta name="generator" content="Pelican" />
        <link rel="stylesheet" type="text/css" href="https://autelos.github.io/masi/theme/css/style.css" />
        <link rel="stylesheet" type="text/css" href="https://autelos.github.io/masi/theme/css/sf-style.css" />




    <meta name="tags" content="meta" />

</head>

<body id="index" class="home">
        <header id="banner" class="body">
          <h1><a href="https://autelos.github.io/masi/">masi</a></h1>
        </header><!-- /#banner -->

        <nav id="menu"><ul>

            <li><a href="https://autelos.github.io/masi/about/">about</a></li>

            <li><a href="https://autelos.github.io/masi/field-recording">field recording</a></li>
            <li><a href="https://autelos.github.io/masi/pd">pd</a></li>
            <li><a href="https://autelos.github.io/masi/modules">modules</a></li>
            <li><a href="https://autelos.github.io/masi/notes">notes</a></li>
            <li><a href="https://autelos.github.io/masi/landing">landing</a></li>

        </ul></nav><!-- /#menu -->

<section id="content" class="body">

  <div class="date">2020.06.20   <a href="https://autelos.github.io/masi/meta">meta</a>  </div>

  <h2><a href="https://autelos.github.io/masi/drafts/archive-meta.html">archive-meta</a></h2>


  <div class="entry-content"> <p>A list of useful commands for archiving file-management:</p>
<ul>
<li>[x] rename files to date-created timestamp</li>
<li>compress files to light, web-friendly version for archive</li>
<li>[x] sound: .wav to .ogg</li>
<li>[ ] video: .* to 1280x720 .mp4<ul>
<li>[ ] option to change playback speed and set+save default playspeed</li>
</ul>
</li>
<li>backup orignals elsewhere</li>
</ul>
<p>here's a one-line command to list the .ogg files in a directory, handy for making these posts...)</p>
<p>#!bash<br />
  oggFiles=""; for i in *.ogg; do oggFiles+="$i, "; done; echo $oggFiles</p>
<p>Generally, the archive should display a light, web-friendly version of the files for viewing, and store the originals elsewhere.</p>
<p>For this, here's a shell script that turns a folder of .wavs into .ogg:</p>
<p>#!bash<br />
  #!/bin/sh</p>
<p>#patterns matching nothing should disappear...<br />
  shopt -s nullglob</p>
<p>#rename <em>.WAV to </em>.wav<br />
  for f in <em>.WAV; do<br />
    mv "$f" "${f%.</em>}.wav"<br />
  done</p>
<p>#rename <em>.WAV to YYYY-MM-DD_HHMMSS-</em>.wav<br />
  for f in <em>.wav; do<br />
    mv -n "$f" "$(date -r "$f" +"%Y-%m-%d_%H%M%S-${f%.</em>}").wav"<br />
  done</p>
<p>mkdir "ogg"</p>
<p>#convert <em>.wav to .ogg<br />
  for f in </em>.wav; do<br />
    ffmpeg -i "$f" "ogg/${f%.*}.ogg"<br />
  done</p>
<p>(save as wav-to-ogg.sh then in terminal type <code>sudo cdmod 755 wav-to-ogg.sh</code> and to run type ```sh wav-to-ogg.sh)</p>
<p>For videos, there is the particular challenge of how to deal with 'slow-mo' (120fps captured on iPhone 5s). Maybe add option to change playback speed and slow-mo videos default to slower speed?</p> </div>
</section>
</body>
</html>